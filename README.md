# 家味食记 - Family Taste

一款专注于家庭饮食管理的微信小程序，致力于为家庭用户提供菜单记录与规划、特殊饮食定制、菜品库管理、转盘选菜、菜单分享、冰箱管理和智能购物助手等一站式饮食管理解决方案。

---

## 项目简介

- 直观易用的微信小程序，支持多成员协作，满足家庭多样化饮食需求。
- 支持个性化推荐、智能购物、冰箱库存管理、菜单分享等丰富功能。
- 强调数据安全、隐私保护与高可用性。

## 系统架构

- 前端：微信小程序原生开发（WXML/WXSS/JavaScript），组件化设计。
- 后端：Node.js + Express.js，MongoDB（主数据存储），Redis（缓存/会话），阿里云OSS（图片/视频存储）。
- AI服务：TensorFlow.js（推荐）、腾讯云AI（图像识别）。
- 第三方API：微信开放平台、高德地图、营养数据库。
- 云基础设施：阿里云ECS、SLB、CDN、Docker+K8S。

## 主要功能模块

- **主页/今日菜单**：展示今日菜单，功能入口。
- **菜单规划**：日/周菜单计划，支持家庭成员定制。
- **菜单库**：浏览、搜索、管理菜品，支持用户自创菜品。
- **转盘选菜**：趣味随机选菜，支持多条件筛选。
- **冰箱管理**：食材录入（手动/扫码）、库存管理、过期提醒。
- **购物助手**：自动生成购物清单、支出记录、数据分析。
- **个人中心**：用户信息、家庭管理、偏好设置。

## 页面结构

- TabBar导航：主页、冰箱管理、个人中心
- 主页：2×2功能入口布局
- 主要页面：
  - 主页/今日菜单
  - 菜单规划（日/周）
  - 菜单库（含详情/编辑）
  - 转盘选菜
  - 冰箱管理（含食材录入/编辑）
  - 购物助手
  - 个人中心

## 技术栈与开发规范

- WXML：页面结构描述，支持数据绑定、条件/列表渲染。
- WXSS：样式美化，rpx单位适配多屏。
- JavaScript：核心逻辑，ES6+，MVVM模式。
- JSON：页面/全局配置。
- 组件系统：内置+自定义组件，鼓励复用。
- 状态管理：全局状态与页面状态分离，支持离线处理。
- API调用：统一封装，支持RESTful风格，错误处理规范。
- 安全性：OAuth2.0认证、JWT、RBAC、HTTPS、数据加密。
- 性能优化：分包加载、图片懒加载、缓存策略。
- 测试：Jest单元测试，自动化集成。
- 文档：代码注释+中英文文档，便于维护。

## 数据架构（简要）

- 用户、家庭、菜单计划、菜品、冰箱库存、购物清单、消费记录、用户活动等核心集合，详见《家味食记系统设计文档》。
- 支持本地-云端数据同步，冲突自动解决，离线操作自动补偿。

## 开发计划与里程碑

- **阶段一（8周）**：环境搭建、基础功能（用户/家庭/菜单/冰箱）、MVP发布
- **阶段二（16周）**：功能完善（扫码、提醒、购物助手、菜单库扩展、个性化推荐等）
- **阶段三（8周）**：增强功能（转盘选菜、菜单分享、激励系统等）
- 详细进度与计划请参考系统设计文档"开发里程碑"章节

---

## 开发进度表

### 阶段一：基础功能开发（第1-8周）

| 周次   | 主要任务                                                         | 进度/备注         |
|--------|------------------------------------------------------------------|-------------------|
| 1-2    | - 项目环境搭建（前后端）<br>- 数据库结构设计与初始化<br>- 小程序项目结构搭建<br>- 认证系统（微信登录） | 已完成            |
| 3-4    | - 用户与家庭管理模块（用户信息、家庭成员增删改查）<br>- 基础菜单记录功能（今日菜单、历史菜单）<br>- 冰箱管理基础功能（食材录入、库存展示）<br>- 前端页面框架搭建 | 已完成            |
| 5-6    | - 菜单规划功能（支持日/周计划）<br>- 菜单库基础功能（菜品浏览、搜索）<br>- 数据同步基础功能（本地与云端）<br>- UI组件库完善 | 已完成            |
| 7-8    | - MVP整合与Bug修复<br>- 用户测试与反馈收集<br>- 性能优化（启动速度、API响应）<br>- MVP版本发布准备 | 已完成            |

**当前状态**：  
- 主页、冰箱管理、菜单库、个人中心、转盘选菜等页面结构已实现，基础功能已具备。
- 代码结构清晰，已支持多页面、TabBar导航、基础数据交互。

---

### 阶段二：功能完善与扩展（第9-24周）

| 周次   | 主要任务                                                         | 进度/备注         |
|--------|------------------------------------------------------------------|-------------------|
| 9-10   | - 冰箱管理增强（扫码录入、过期提醒、食材分类、库存可视化）        | 进行中/部分完成   |
| 11-12  | - 购物助手基础功能（购物清单生成、购物记录）                      | 进行中            |
| 13-14  | - 菜单库扩展（菜品数据导入、筛选优化、详情完善、用户自创菜品）    | 未开始            |
| 15-16  | - 特殊饮食定制（家庭成员饮食标签、个性化推荐、营养信息展示）      | 未开始            |
| 17-18  | - 智能购物助手II（价格对比、消费统计、购物引导优化）              | 未开始            |
| 19-20  | - 数据分析与算法优化（推荐算法完善、用户行为分析、数据可视化）    | 未开始            |
| 21-22  | - 用户体验提升（界面视觉优化、交互流程优化、用户引导、多设备适配）| 未开始            |
| 23-24  | - 全面功能测试、压力测试、兼容性测试、文档完善                    | 未开始            |

---

### 阶段三：增强功能与优化（第25-32周）

| 周次   | 主要任务                                                         | 进度/备注         |
|--------|------------------------------------------------------------------|-------------------|
| 25-26  | - 转盘选菜功能完善（交互、筛选、视觉效果）                        | 已有基础页面，待完善 |
| 27-28  | - 菜单分享功能（分享机制、海报生成、访问控制、反馈互动）           | 未开始            |
| 29-30  | - 用户激励系统（打卡奖励、成就、积分、任务挑战）                  | 未开始            |
| 31-32  | - 最终测试与优化、发布准备                                        | 未开始            |

---

### 持续工作

- 代码重构与文档完善：每阶段结束后同步进行
- 用户反馈收集与迭代：每个版本发布后持续进行
- 安全与性能监控：全周期持续

---

## 团队分工

- 产品经理、UI/UX设计师、前端/后端/全栈开发、测试、运维、数据分析、内容运营等角色分工明确，采用敏捷迭代开发。
- 日常站会、周评审、双周规划、月度回顾，保障高效协作。

## 测试与部署

- 单元/集成/UI/性能/用户体验测试全覆盖，目标测试覆盖率85%。
- 自动化CI/CD，支持多环境部署（开发/测试/预发布/生产）。
- 灰度发布、自动回滚、全链路监控。

## 未来规划

- 社区功能、健康管理、智能硬件集成、食材供应链、AI能力增强、多端支持、大数据分析等。
- 详见系统设计文档"未来规划"章节。

## 参考与术语

- 详细术语表、参考资料、变更记录见《家味食记系统设计文档》附录。

---

## 贡献指南

1. Fork 本仓库
2. 创建你的特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交你的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 第一阶段：冰箱管理增强与购物助手（4周）

### 第1-2周：冰箱管理功能完善
1. 扫码录入功能
   - Day 1-2: 集成微信扫码API
   - Day 3-4: 实现条码识别与食材匹配
   - Day 5-7: 开发食材快速录入界面
   - Day 8-10: 测试与优化

2. 过期提醒系统
   - Day 1-3: 后端过期检测API开发
   - Day 4-5: 前端过期提醒UI设计
   - Day 6-8: 实现本地提醒功能
   - Day 9-10: 测试与优化

### 第3-4周：购物助手基础功能
1. 购物清单功能
   - Day 1-3: 购物清单数据模型设计
   - Day 4-6: 清单创建与编辑界面
   - Day 7-8: 一键生成购物清单功能
   - Day 9-10: 测试与优化

2. 购物记录功能
   - Day 1-2: 购物记录数据模型设计
   - Day 3-5: 记录添加与查看界面
   - Day 6-7: 支出统计功能
   - Day 8-10: 测试与优化